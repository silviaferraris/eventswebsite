<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Silvia's website | EVENTS </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,800,300" rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="/assets/css/style-new.css">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

    <script src="/assets/js/navbar_and_footer_loader.js"></script>
    <script src="/assets/js/typewriter.js"></script>

    <script src="/assets/js/countdown.js"></script>

    <script>


        $(document).ready(() =>
        {
            let lastScroll;
            let goUpBtn = $(".go-up-button");
            goUpBtn.hide();

            $(document).scroll(function ()
            {
                if($(window).width() < 990)
                {
                    console.log("mob");
                    if(lastScroll > $(this).scrollTop() && $(this).scrollTop() > 1000) goUpBtn.fadeIn(400);
                    else if(lastScroll < $(this).scrollTop() || $(this).scrollTop() <= 1000) goUpBtn.fadeOut(400);
                }
                else
                {
                    console.log("desk");
                    if($(this).scrollTop() > 1000) goUpBtn.fadeIn(400);
                    else goUpBtn.fadeOut(400);
                }

                lastScroll = $(this).scrollTop();
            });

            goUpBtn.on('click', function (event)
            {
                $("html,body").animate({
                    scrollTop: $('html,body').offset().top
                }, 'slow');

                event.preventDefault();
            });
        });

        function loadMoreEvents()
        {
            let eventCards = [];
            for(let i = 0; i < 6; i++)
            {
                let card = $('<div class="event-card"></div>').hide();
                eventCards.push(card);
                $(".card-list").append(card);
            }

            const iterator = eventCards[Symbol.iterator]();

            fadeInArray(iterator);
        }

        async function fadeInArray(iterator)
        {
            let value = iterator.next().value;
            if(value === undefined)return;
            return fadeIn(value).then(() => fadeInArray(iterator));
        }

        function fadeIn(element)
        {
            return new Promise((resolve, reject) =>
            {
                element.fadeIn(400);
                setTimeout(() =>
                {
                    resolve();
                }, 100);
            });

        }
    </script>


</head>
<body>

<header></header>


<div class="banner" style="background-color: #FFF8E1">
    <div class="headline" style="background-color: #FFD54F">
        <span style="color: #FFF8E1">EVENTS</span>
    </div>
</div>



<div class="page-container">
    <div class="banner-content text-center">
        <div class="banner-content-wrap">
            <div id="countdown" class="countdown bg-style" data-date_api="/events/next_date">
                <div class="counter-day">
                    <span id="days" class="days">07</span>
                    <div class="smalltext">Days</div>
                </div>
                <div class="counter-hour">
                    <span id="hours" class="hours">13</span>
                    <div class="smalltext">Hours</div>
                </div>
                <div class="counter-minute">
                    <span id="minutes" class="minutes">56</span>
                    <div class="smalltext">Minutes</div>
                </div>
                <div class="counter-second">
                    <span class="seconds">57</span>
                    <div class="smalltext">Seconds</div>
                </div>
            </div>
            <!-- Countdown end -->
            <h1 class="banner-title"> nome evento </h1>
            <h2 class="banner-subtitle">OCTOBER, 17<sup>th</sup>2019</h2>
            <h3 class="banner-desc"> descrizione evento </h3>
            <p class="banner-btn">
            <li class="nav-item"><a class="btn" href="#" type="button" id="nav-login-btn">register now</a></li>
            </p>
        </div>
        <!-- Banner content wrap end -->
    </div>
    <!-- Banner content end -->

    <div class="card-list">
        <div class="event-card"></div>
        <div class="event-card"></div>
        <div class="event-card"></div>
        <div class="event-card"></div>
        <div class="event-card"></div>
        <div class="event-card"></div>
    </div>
    <div class="end-of-card-list">
        <hr style="width: 100%"><a class="load-more-btn" onclick="loadMoreEvents()"><img src="/assets/images/icons/load-more-btn-icon.svg"></a>
    </div>

</div>


<div id="footer"></div>

<a class="go-up-button" href="#">Go up</a>

<div class="mobile-nav"></div>

</body>
</html>